/*!
 * uform
 * https://github.com/yqfang/UForm#readme
 * yqfang,qianzhixiang
 * Version: 1.0.0 - 2016-07-04T11:55:56.690Z
 * License: ISC
 */
!function(){"use strict";var e=angular.module("up.uform",["ui.bootstrap"]);e.config(["$provide","datepickerConfig",function(e,t){t.showWeeks=!1,e.decorator("ngModelDirective",["$delegate",function(e){var t=e[0],n=t.controller;return t.controller=["$scope","$element","$attrs","$injector",function(e,t,i,l){var o=l.get("$interpolate");i.$set("name",o(i.name||"")(e)),i.$set("validator",o(i.validator||"")(e)),l.invoke(n,this,{$scope:e,$element:t,$attrs:i})}],e}]),angular.forEach({"ng-form":"ngFormDirective",form:"formDirective"},function(t){e.decorator(t,["$delegate",function(e){var t=e[0],n=t.controller;return t.controller=["$scope","$element","$attrs","$injector",function(e,t,i,l){var o=l.get("$interpolate");i.$set("name",o(i.name||i.ngForm||"")(e)),i.$set("angular-validator",""),l.invoke(n,this,{$scope:e,$element:t,$attrs:i})}],e}])})}]),e.directive("angularValidator",["$injector","$parse",function(e,t){return{restrict:"A",link:function(n,i,l,o){function r(t){return!!(t&&"invalid-message"in t.attributes)&&e.get(t.attributes["invalid-message"].value)}function a(e){for(var t=r(e),n=0;n<e.length;n++)n in e&&d(e[n],t)}function d(e,t){"validate-on"in e.attributes&&"blur"===e.attributes["validate-on"].value&&angular.element(e).on("blur",function(){s(e,t),v(e)});var i=n.$watch(function(){return e.value+e.required+C.submitted+p(e)+m(C[e.name])+c(C[e.name])},function(){if(C.submitted)s(e,t),v(e);else{var n="validate-on"in e.attributes&&"dirty"===e.attributes["validate-on"].value;n?(s(e,t),v(e)):C[e.name]&&C[e.name].$pristine&&(s(e,t),v(e))}});h.push(i)}function m(e){if(e&&"$dirty"in e)return e.$dirty}function c(e){if(e&&"$valid"in e)return e.$valid}function p(e){if("validator"in e.attributes){var t;return t=!e.attributes.validator||""===e.attributes.validator.value||n.$eval(e.attributes.validator.value+=" === true"),!C[e.name]||(C[e.name].$setValidity("angularValidator",t),t)}}function s(e,t){var i=function(){return"<i class='fa fa-times'></i> Required"},l=function(){return"<i class='fa fa-times'></i> Invalid"};if(e.name in C){var o=C[e.name],r=f(e);r&&r.remove(),(o.$dirty||n[e.form.name]&&n[e.form.name].submitted)&&(o.$error.required?"required-message"in e.attributes?angular.element(e).after(u(e.attributes["required-message"].value)):angular.element(e).after(u(i)):o.$valid||("invalid-message"in e.attributes?angular.element(e).after(u(e.attributes["invalid-message"].value)):t?angular.element(e).after(u(t.message(o,e))):angular.element(e).after(u(l))))}}function u(e){return"<label class='control-label has-error validationMessage'>"+n.$eval(e)+"</label>"}function f(e){for(var t=angular.element(e).parent().children(),n=0;n<t.length;n++)if(angular.element(t[n]).hasClass("validationMessage"))return angular.element(t[n]);return!1}function v(e){if(e.name in C){var t=C[e.name];angular.element(e).removeClass("has-error"),angular.element(e.parentNode).removeClass("has-error"),(t.$dirty||n[e.form.name]&&n[e.form.name].submitted)&&t.$invalid&&(angular.element(e.parentNode).addClass("has-error"),angular.element(e).addClass("has-error"))}}var g=angular.element(i)[0],h=[],b=g.attributes.name.value,C=t(b)(n);C.submitted=!1,n.$watch(function(){return Object.keys(C).length},function(){angular.forEach(h,function(e){e()}),a(g)}),i.on("submit",function(e){e.preventDefault(),n.$apply(function(){C.submitted=!0}),C.$valid&&n.$apply(function(){n.$eval(g.attributes["angular-validator-submit"].value)})}),C.reset=function(){for(var e=0;e<g.length;e++)g[e].name&&(C[g[e].name].$setViewValue(""),C[g[e].name].$render());C.submitted=!1,C.$setPristine()},a(g)}}}]),e.directive("bindDirectiveCompile",["$compile",function(e){return{restrict:"A",link:function(t,n,i){var l=t.$watch(function(){return t.$eval(i.bindDirectiveCompile)},function(o){o="<div "+o+" />",n.html(o&&o.toString());var r=t;i.bindDirectiveScope&&(r=t.$eval(i.bindDirectiveScope)),e(n.contents())(r),l()})}}}]),angular.forEach({"input-text":"appInputTextComponent","input-date":"appInputDateComponent","input-time":"appInputTimeComponent","input-datetime":"appInputDatetimeComponent","input-password":"appInputPasswordComponent","input-checkbox":"appInputCheckboxComponent","input-radio":"appInputRadioComponent","input-submit":"appInputSubmitComponent",select:"appSelectComponent",textarea:"appTextareaComponent"},function(t,n){e.directive(t,function(){return{restrict:"EA",controller:["$scope","$attrs",function(e,t){var n=e.$parent;this.field=n.$eval("field"),this.ref=e}],controllerAs:"componentCtrl",templateUrl:n+".html",scope:{model:"="},replace:!0,require:["?^uForm"],link:function(e,t,n,i){}}})}),e.filter("orderById",function(){return function(e,t,n){var i=[];return angular.forEach(e,function(e,t){e.name=t,i.push(e)}),i.sort(function(e,n){return e[t]>n[t]?1:-1}),n&&i.reverse(),i}}),e.provider("ufield",[function(){var e="input",t="dirty",n=function(n){var i={};return n=n||{},i.type=angular.isDefined(n.type)?n.type:e,i.validateOn=!angular.isDefined(n.validateOn)||"dirty"!==n.validateOn&&"blur"!==n.validateOn?t:n.validateOn,i};this.useType=function(t){angular.isDefined(t)&&(e=t)},this.useValidateOn=function(e){angular.isDefined(e)&&(t=e)},this.$get=[function(){return{create:function(e){return e=n(e)}}}]}]),e.directive("upFieldHide",["$parse",function(e){return{require:"?^uForm",restrict:"A",link:function(t,n,i,l){"hide"in t.field&&t.$watch(function(){var t=e(i.upFieldHide)(l.result);return t},function(e){n.css("display",e?"none":""),e&&delete l.result[t.field.name]})}}}]),e.directive("uForm",["$rootScope",function(e){return{templateUrl:"form.html",transclude:!0,restrict:"EA",controller:["$scope","$attrs","$rootScope","ufield",function(e,t,n,i){var l=e.$parent;this.fields=l.$eval(t.fields),angular.forEach(this.fields,function(e){angular.extend(e,i.create(e))}),this.option=l.$eval(t.option),this.result=l.$eval(t.result)||l.$eval(t.result+"={}"),this.ref=e}],scope:{},controllerAs:"form",require:["?^uFormGroup"],link:function(e,t,n,i){var l=i[0];l&&l.fields&&l.fields.push(e.form.fields),l&&l.result&&l.result.push(e.form.result)}}}]),e.directive("uFormGroup",function(){return{controller:["$scope","$attrs",function(e,t){this.fields=e.$parent.$eval(t.fields)||e.$parent.$eval(t.fields+"=[]"),this.result=e.$parent.$eval(t.result)||e.$parent.$eval(t.result+"=[]")}],scope:{},template:"<div ng-transclude></div>",controllerAs:"uFormGroup",transclude:!0}})}(),angular.module("up.uform").run(["$templateCache",function(e){e.put("form.html",'<div><style type=text/css>\n\t\t.form-inline .inline-control {\n\t\t\tdisplay: inline-block;\n\t\t}\n\t\t.form-inline .datepicker {\n\t\t\twidth: 120px;\n\t\t}\n\t\t.form-inline input[type=\'text\'] {\n\t\t\twidth: 120px;\n\t\t}\n\t\t.form-inline .form-group {\n\t\t    display: inline-block;\n\t\t    margin-bottom: 0;\n\t\t    vertical-align: middle;\n\t\t    margin-right: 10px;\n\t\t}\n\t\t.form-horizontal .control-label {\n\t\t\ttext-align: right;\n\t\t}\n\t\t.control-datepicker {\n\t\t\tpadding-left: 0;\n\t\t}\n\t\t.timepicker tr.text-center {\n\t\t\tdisplay: none;\n\t\t}\n\t</style><div class=form-group up-field-hide={{field.hide}} ng-class=field.name ng-repeat="field in form.fields | orderById: \'id\'"><label for={{field.name}} ng-class=form.option.labelClass class=control-label><span ng-show="field.required && field.label">*</span> <span ng-if="field.type!=\'input:checkbox\'">{{ field.label }}</span></label><div ng-switch=field.type ng-class=form.option.inputClass><div ng-switch-when=input app-input-text-component="" model=form.result[field.name]></div><div ng-switch-when=input:multiple app-input-multiple-component="" model=form.result[field.name]></div><div ng-switch-when=input:date app-input-date-component="" model=form.result[field.name]></div><div ng-switch-when=input:time app-input-time-component="" model=form.result[field.name]></div><div ng-switch-when=input:datetime app-input-datetime-component="" model=form.result[field.name]></div><div ng-switch-when=input:password app-input-password-component="" model=form.result[field.name]></div><div ng-switch-when=input:checkbox app-input-checkbox-component="" model=form.result[field.name]></div><div ng-switch-when=input:radio app-input-radio-component="" model=form.result[field.name]></div><div ng-switch-when=input:submit app-input-submit-component="" model=form.result[field.name]></div><div ng-switch-when=textarea app-textarea-component="" model=form.result[field.name]></div><div ng-switch-when=select app-select-component="" model=form.result[field.name]></div><div ng-switch-default="" bind-directive-compile=field.type></div></div></div><div ng-transclude=""></div></div>'),e.put("input-checkbox.html","<div class=checkbox><label><input type=checkbox name={{componentCtrl.field.name}} ng-model=componentCtrl.ref.model> {{ componentCtrl.field.label }}</label></div>"),e.put("input-date.html",'<div><input type=text name={{componentCtrl.field.name}} class="form-control datepicker" datepicker-popup=yyyy-MM-dd ng-model=componentCtrl.ref.model ng-init="componentCtrl.ref.open=false" is-open=componentCtrl.ref.open ng-style=componentCtrl.field.style show-button-bar=false ng-click="componentCtrl.ref.open=!componentCtrl.ref.open"></div>'),e.put("input-datetime.html",'<div><div class="col-xs-6 control-datepicker"><input type=text name={{componentCtrl.field.name}} class="form-control datepicker" datepicker-popup=yyyy-MM-dd ng-model=componentCtrl.ref.model ng-init="componentCtrl.ref.open=false" is-open=componentCtrl.ref.open show-button-bar=false ng-click="componentCtrl.ref.open=!componentCtrl.ref.open"></div><div><div class=timepicker timepicker="" ng-model=componentCtrl.ref.model></div></div></div>'),e.put("input-multiple.html",'<select ng-init="componentCtrl.ref.model=componentCtrl.field.candidates[0].value" class=form-control ng-model=componentCtrl.ref.model name={{componentCtrl.field.name}} ng-options="option.value as option.name for option in componentCtrl.field.candidates" multiple="" ng-required=componentCtrl.field.required></select>'),e.put("input-password.html","<input type=password id={{componentCtrl.field.name}} name={{componentCtrl.field.name}} ng-model=componentCtrl.ref.model ng-required=componentCtrl.field.required required-message=\"'{{componentCtrl.field.requiredMsg}}'\" ng-maxlength={{componentCtrl.field.maxlength}} ng-minlength={{componentCtrl.field.minlength}} ng-pattern={{componentCtrl.field.pattern}} validate-on={{componentCtrl.field.validateOn}} validator={{componentCtrl.field.validator}} invalid-message={{componentCtrl.field.validator}} class=form-control ng-disabled=componentCtrl.field.disabled ng-attr-placeholder={{componentCtrl.field.placeholder}} ng-style=componentCtrl.field.style>"),e.put("input-radio.html",'<div><div class=radio-inline ng-repeat="candidate in componentCtrl.field.candidates"><label><input type=radio ng-init="componentCtrl.ref.model=componentCtrl.field.candidates[0].value" ng-model=componentCtrl.ref.model name={{componentCtrl.field.name}} value={{candidate.value}} ng-required=componentCtrl.field.required>{{candidate.label}}</label></div></div>'),e.put("input-submit.html",'<input class="btn btn-primary" type=submit value={{componentCtrl.field.value}}>'),e.put("input-text.html","<input type=text id={{componentCtrl.field.name}} name={{componentCtrl.field.name}} ng-model=componentCtrl.ref.model ng-required=componentCtrl.field.required required-message=\"'{{componentCtrl.field.requiredMsg}}'\" ng-maxlength={{componentCtrl.field.maxlength}} ng-minlength={{componentCtrl.field.minlength}} ng-pattern={{componentCtrl.field.pattern}} validate-on={{componentCtrl.field.validateOn}} validator={{componentCtrl.field.validator}} invalid-message={{componentCtrl.field.validator}} class=form-control ng-disabled=componentCtrl.field.disabled ng-attr-placeholder={{componentCtrl.field.placeholder}} ng-style=componentCtrl.field.style>"),e.put("input-time.html",'<div><div class=timepicker timepicker="" ng-model=componentCtrl.ref.model></div></div>'),e.put("maya-config-group.html",'<div style=inline-block ng-style=vm.field.style><button class="btn btn-primary" ng-click=vm.execute($event)>{{vm.field.model.btn1}}</button> <button class="btn btn-warning" ng-click=vm.save($event)>{{vm.field.model.btn2}}</button> <button class="btn btn-danger" ng-click=vm.clear($event)>{{vm.field.model.btn3}}</button></div>'),e.put("maya-config-menu.html",'<button class="btn btn-default" ng-click=vm.config($event)>{{vm.field.model.btnName}}</button>'),e.put("maya-http-select.html",'<div ng-style=vm.field.style><input type=text ng-model=vm.result placeholder="Locations loaded via $http" typeahead="item.id for item in vm.getLists($viewValue)" typeahead-wait-ms=500 typeahead-on-select=vm.addToResult() typeahead-loading=ifloading class=form-control> <i ng-show=ifloading class="glyphicon glyphicon-refresh"></i></div>'),e.put("maya-ui-select.html",'<div ng-style=vm.field.style><ui-select multiple="" ng-disabled=vm.field.disabled close-on-select=false style=width:85%;display:inline-block sortable=true ng-model=vm.result title="Choose a color"><ui-select-match placeholder="Select colors...">{{$item.name}}: {{$item.id}}</ui-select-match><ui-select-choices repeat="item in (vm.field.model | filter: $select.search)"><div ng-bind-html="item.name | highlight: $select.search"></div><small>id: {{item.id}} name: <span ng-bind-html="\'\'+item.name | highlight: $select.search"></span></small></ui-select-choices></ui-select><button type=button ng-click="vm.result = undefined" class="btn btn-link" style="margin-top: -3px;display:inline-block;vertical-align:top;color: #000"><i class="glyphicon glyphicon-trash"></i></button></div>'),e.put("select.html",'<select ng-init="componentCtrl.ref.model=componentCtrl.field.candidates[0].value" class=form-control ng-model=componentCtrl.ref.model name={{componentCtrl.field.name}} ng-options="option.value as option.name for option in componentCtrl.field.candidates" ng-required=componentCtrl.field.required></select>'),e.put("textarea.html","<textarea id={{componentCtrl.field.name}} name={{componentCtrl.field.name}} ng-model=componentCtrl.ref.model ng-required=componentCtrl.field.required required-message=\"'{{componentCtrl.field.requiredMsg}}'\" ng-maxlength={{componentCtrl.field.maxlength}} ng-minlength={{componentCtrl.field.minlength}} ng-pattern={{componentCtrl.field.pattern}} validate-on={{componentCtrl.field.validateOn}} validator={{componentCtrl.field.validator}} invalid-message={{componentCtrl.field.validator}} class=form-control ng-disabled=componentCtrl.field.disabled ng-attr-placeholder={{componentCtrl.field.placeholder}} ng-style=componentCtrl.field.style>\n</textarea>")}]);
//# sourceMappingURL=uform.min.js.map
