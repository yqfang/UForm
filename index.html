<!DOCTYPE html>
<html ng-app="myApp">
<head>
	<title>angular-data-driven-form</title>
	<link href="//cdn.bootcss.com/bootstrap/3.1.1/css/bootstrap.css" rel="stylesheet">
	<style>
/*	.form-horizontal .control-group {
		margin-bottom: 18px;
	}*/
	</style>
</head>


<body>
<div style="width: 300px;padding: 45px 15px">
	<form u-form 
		  class="form-horizontal"
	      ng-controller="pageController as pageCtrl"
		  name="moduleForm"          
		  config="pageCtrl.config" 
		  ng-submit='pageCtrl.submit(moduleForm.$valid, pageCtrl.result)' 
		  btn-handler="pageCtrl.click(field)" 
		  result="pageCtrl.result">

	</form>
</div>

<!--[if IE 8]>
<script src="lib/json3/json3.js"></script>
<script src="lib/es5/es5-shim.js"></script>
<script src="lib/html5shiv/html5shiv.js"></script>
<![endif]-->
<script type="text/javascript" src="/lib/angular.js"></script>
<script type="text/javascript" src="lib/ui-bootstrap.js"></script>
<script type="text/javascript" src="lib/ui-bootstrap-custom-tpls-0.12.0.min.js"></script>
<script type="text/javascript" src="/upForm.js"></script>

<script>

;(function() {
	angular.module("myApp", ["uForm",'ui.bootstrap'])
		.controller("pageController", function($scope, $http) {
			var vm = this;
			vm.config = {};
			$http.get("json/form.json").success(function(data) {
				angular.extend(vm.config, data);
			})
			this.click = function(field) {
				console.info(field);
				vm.result[field.name] = "test";
			}
			this.submit = function(valid, data) {
		      if (valid) {
		        console.log('submitted', JSON.stringify(data));
		      }
			}
		});
})()




</script>

</body>
</html>