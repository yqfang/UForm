<!DOCTYPE html>
<html ng-app="myApp">
<head>
	<title>angular-data-driven-form</title>
	<link href="//cdn.bootcss.com/bootstrap/3.1.1/css/bootstrap.css" rel="stylesheet">
</head>


<body>
<div style="width: 1000px;padding: 45px 15px">
	<form u-form 		  
	      ng-controller="pageController as pageCtrl"
	      ng-class="pageCtrl.option.formClass"
		  name="moduleForm"          
		  fields="pageCtrl.fields"
		  option="pageCtrl.option" 
		  ng-submit='pageCtrl.submit(moduleForm.$valid, pageCtrl.result)' 
		  btn-handler="pageCtrl.click(field)" 
		  result="pageCtrl.result">
		  
	</form>
</div>

<!--[if IE 8]>
<script src="lib/json3/json3.js"></script>
<script src="lib/es5/es5-shim.js"></script>
<script src="lib/html5shiv/html5shiv.js"></script>
<![endif]-->
<script type="text/javascript" src="lib/jquery.min.js"></script>
<script type="text/javascript" src="lib/angular.js"></script>
<script type="text/javascript" src="lib/ui-bootstrap.js"></script>
<script type="text/javascript" src="lib/ui-bootstrap-tpls.js"></script>
<script type="text/javascript" src="lib/angular-locale_zh.js"></script>
<script type="text/javascript" src="lib/angular-shims-placeholder.min.js"></script>
<script type="text/javascript" src="upForm.js"></script>

<script>

;(function() {
	angular.module("myApp", ["uForm",'ui.bootstrap'])
		.config(function(datepickerConfig) {
			datepickerConfig.showWeeks = false;
		})
		.controller("pageController", function($scope, $http) {
			var vm = this;
			vm.fields = [];
			vm.option = {};
			$http.get("json/form-horizontal.json").success(function(data) {
				angular.extend(vm.fields, data.fields);
				angular.extend(vm.option, data.option);
			})
			this.now = new Date();
			this.click = function(field) {
				console.info(field);
				vm.result[field.name] = "test";
			}
			this.submit = function(valid, data) {
		      if (valid) {
		        console.log('submitted', JSON.stringify(data));
		      }
			}
		});
})()




</script>

</body>
</html>